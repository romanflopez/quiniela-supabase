<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Resultados de Quiniela - LOTBA</title>
    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESET Y BASE - Mobile First, Accesibilidad AAA
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background-color: #000000;
            color: #FFFFFF;
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 40px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HEADER STICKY - Siempre visible
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: #000000;
            border-bottom: 3px solid #FFFF00;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
        }

        .header h1 {
            font-size: 28px;
            font-weight: 900;
            text-align: center;
            margin-bottom: 20px;
            color: #FFFFFF;
            letter-spacing: 1px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FILTROS - Botones grandes y tÃ¡ctiles
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .filtros-container {
            background: #111111;
            padding: 20px;
            margin: 0 20px 30px 20px;
            border: 2px solid #333333;
            border-radius: 8px;
        }

        .filtro-label {
            display: block;
            font-size: 20px;
            font-weight: 700;
            color: #FFFF00;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .filtro-select {
            width: 100%;
            min-height: 56px;
            font-size: 20px;
            font-weight: 700;
            background: #000000;
            color: #FFFFFF;
            border: 3px solid #FFFF00;
            border-radius: 8px;
            padding: 14px 16px;
            cursor: pointer;
            margin-bottom: 16px;
        }

        .filtro-select:focus {
            outline: none;
            border-color: #00FF00;
            box-shadow: 0 0 0 4px rgba(0, 255, 0, 0.3);
        }

        .btn-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .btn {
            flex: 1;
            min-width: 140px;
            min-height: 56px;
            font-size: 20px;
            font-weight: 700;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: transform 0.1s ease;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-actualizar {
            background: #00FF00;
            color: #000000;
        }

        .btn-limpiar {
            background: #FFFF00;
            color: #000000;
        }

        .btn:focus {
            outline: 4px solid rgba(255, 255, 255, 0.5);
            outline-offset: 2px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ESTADÃSTICAS - Info rÃ¡pida
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .stats {
            background: #111111;
            padding: 20px;
            margin: 0 20px 30px 20px;
            border: 2px solid #333333;
            border-radius: 8px;
            text-align: center;
        }

        .stats-text {
            font-size: 18px;
            color: #FFFF00;
            line-height: 1.8;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           TARJETAS DE SORTEO - Componente Principal
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .sorteos-container {
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .sorteo-card {
            background: #111111;
            border: 3px solid #333333;
            border-radius: 12px;
            overflow: hidden;
        }

        /* Encabezado de tarjeta */
        .sorteo-header {
            background: #1a1a1a;
            padding: 20px;
            border-bottom: 2px solid #333333;
        }

        .sorteo-turno {
            font-size: 24px;
            font-weight: 900;
            color: #FFFFFF;
            text-transform: uppercase;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }

        .sorteo-info {
            font-size: 18px;
            color: #FFFF00;
            line-height: 1.6;
        }

        /* BLOQUE CABEZA - MÃ¡xima jerarquÃ­a visual */
        .cabeza-container {
            background: #660000;
            padding: 30px 20px;
            text-align: center;
            border: 4px solid #FF0000;
            margin: 20px;
            border-radius: 8px;
        }

        .cabeza-label {
            font-size: 22px;
            font-weight: 700;
            color: #FFFF00;
            text-transform: uppercase;
            margin-bottom: 12px;
            letter-spacing: 2px;
        }

        .cabeza-numero {
            font-size: 64px;
            font-weight: 900;
            color: #FF0000;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            letter-spacing: 8px;
            line-height: 1;
        }

        /* BLOQUE LETRAS (para Ciudad) */
        .letras-container {
            background: #001a00;
            padding: 20px;
            margin: 0 20px 20px 20px;
            border: 3px solid #00FF00;
            border-radius: 8px;
            text-align: center;
        }

        .letras-label {
            font-size: 20px;
            font-weight: 700;
            color: #FFFF00;
            text-transform: uppercase;
            margin-bottom: 12px;
        }

        .letras-list {
            font-size: 32px;
            font-weight: 900;
            color: #00FF00;
            letter-spacing: 12px;
            line-height: 1.4;
        }

        /* LISTA DE 20 NÃšMEROS - Una sola columna, mÃ¡xima claridad */
        .numeros-container {
            padding: 20px;
        }

        .numeros-title {
            font-size: 22px;
            font-weight: 700;
            color: #FFFF00;
            text-transform: uppercase;
            margin-bottom: 16px;
            text-align: center;
        }

        .numeros-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .numero-item {
            background: #1a1a1a;
            padding: 12px 20px;
            border-left: 4px solid #FFFF00;
            border-radius: 4px;
            font-size: 20px;
            font-weight: 700;
            color: #FFFFFF;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .numero-posicion {
            color: #FFFF00;
            min-width: 35px;
            font-weight: 900;
        }

        .numero-valor {
            color: #FFFFFF;
            font-weight: 900;
            letter-spacing: 2px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ESTADOS: Loading y Error
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .loading, .error {
            text-align: center;
            padding: 60px 20px;
            font-size: 24px;
            font-weight: 700;
        }

        .loading {
            color: #00FF00;
        }

        .error {
            color: #FF0000;
            background: #1a0000;
            border: 3px solid #FF0000;
            border-radius: 8px;
            margin: 20px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            font-size: 22px;
            color: #FFFF00;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE - Tablet y Desktop (mejoras opcionales)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (min-width: 768px) {
            .header h1 {
                font-size: 36px;
            }

            .filtros-container {
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
            }

            .stats {
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
            }

            .sorteos-container {
                max-width: 800px;
                margin: 0 auto;
            }

            .cabeza-numero {
                font-size: 80px;
            }

            /* En tablet/desktop, permitir 2 columnas para los nÃºmeros */
            .numeros-list {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 12px;
            }
        }

        @media (min-width: 1024px) {
            .sorteos-container {
                max-width: 1000px;
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ACCESIBILIDAD ADICIONAL
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        /* Focus visible para navegaciÃ³n por teclado */
        *:focus-visible {
            outline: 4px solid #FFFF00;
            outline-offset: 2px;
        }

        /* Mejorar contraste en selecciÃ³n de texto */
        ::selection {
            background: #FFFF00;
            color: #000000;
        }

        /* Skip link para lectores de pantalla */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #FFFF00;
            color: #000000;
            padding: 8px;
            z-index: 10000;
            font-weight: 700;
        }

        .skip-link:focus {
            top: 0;
        }
    </style>
</head>
<body>
    <!-- Skip link para accesibilidad -->
    <a href="#main-content" class="skip-link">Ir al contenido principal</a>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         HEADER STICKY
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <header class="header" role="banner">
        <h1>Resultados de Quiniela</h1>
    </header>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         FILTROS
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="filtros-container" role="search" aria-label="Filtros de bÃºsqueda">
        <label for="filtro-jurisdiccion" class="filtro-label">
            ğŸ” Filtrar por JurisdicciÃ³n:
        </label>
        <select id="filtro-jurisdiccion" class="filtro-select" aria-label="Seleccionar jurisdicciÃ³n">
            <option value="all">TODAS LAS JURISDICCIONES</option>
            <option value="Ciudad">CIUDAD</option>
            <option value="BsAs">BUENOS AIRES</option>
            <option value="SantaFe">SANTA FE</option>
            <option value="Cordoba">CÃ“RDOBA</option>
            <option value="EntreRios">ENTRE RÃOS</option>
        </select>

        <label for="filtro-turno" class="filtro-label">
            ğŸ• Filtrar por Turno:
        </label>
        <select id="filtro-turno" class="filtro-select" aria-label="Seleccionar turno">
            <option value="all">TODOS LOS TURNOS</option>
            <option value="La Previa">LA PREVIA</option>
            <option value="Primera">PRIMERA</option>
            <option value="Matutina">MATUTINA</option>
            <option value="Vespertina">VESPERTINA</option>
            <option value="Nocturna">NOCTURNA</option>
        </select>

        <div class="btn-group">
            <button id="btn-actualizar" class="btn btn-actualizar" aria-label="Actualizar resultados">
                â™»ï¸ ACTUALIZAR
            </button>
            <button id="btn-limpiar" class="btn btn-limpiar" aria-label="Limpiar filtros">
                ğŸ—‘ï¸ LIMPIAR
            </button>
        </div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         ESTADÃSTICAS
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="stats" role="status" aria-live="polite">
        <div id="stats-text" class="stats-text">
            Cargando estadÃ­sticas...
        </div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         RESULTADOS
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <main id="main-content" role="main">
        <div id="sorteos-container" class="sorteos-container">
            <div class="loading" role="status" aria-live="polite">
                â³ CARGANDO RESULTADOS...
            </div>
        </div>
    </main>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         JAVASCRIPT - LÃ³gica de la aplicaciÃ³n
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <script>
        // âš ï¸ URL de la API de Supabase
        const API_URL = 'https://pvbxvghzemtymbynkiqa.supabase.co/functions/v1/quiniela-api';
        
        // Referencias DOM
        const sorteosContainer = document.getElementById('sorteos-container');
        const statsText = document.getElementById('stats-text');
        const filtroJurisdiccion = document.getElementById('filtro-jurisdiccion');
        const filtroTurno = document.getElementById('filtro-turno');
        const btnActualizar = document.getElementById('btn-actualizar');
        const btnLimpiar = document.getElementById('btn-limpiar');

        // Estado de la aplicaciÃ³n
        let todosLosSorteos = [];

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FUNCIÃ“N: Cargar datos desde la API
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        async function cargarDatos() {
            try {
                sorteosContainer.innerHTML = '<div class="loading" role="status">â³ CARGANDO RESULTADOS...</div>';
                statsText.textContent = 'Conectando con el servidor...';

                const response = await fetch(API_URL);
                
                if (!response.ok) {
                    throw new Error(`Error HTTP: ${response.status}`);
                }

                const data = await response.json();
                
                if (data.status === 'ok' && data.results) {
                    todosLosSorteos = data.results;
                    actualizarEstadisticas(data.total_results);
                    renderizarSorteos(todosLosSorteos);
                } else {
                    throw new Error('Formato de datos invÃ¡lido');
                }
            } catch (error) {
                console.error('Error cargando datos:', error);
                sorteosContainer.innerHTML = `
                    <div class="error" role="alert">
                        âŒ ERROR AL CARGAR RESULTADOS<br>
                        <span style="font-size: 18px; font-weight: 400;">
                            Por favor, intente nuevamente mÃ¡s tarde.
                        </span>
                    </div>
                `;
                statsText.textContent = 'âŒ Error de conexiÃ³n';
            }
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FUNCIÃ“N: Actualizar estadÃ­sticas
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function actualizarEstadisticas(total) {
            const ahora = new Date().toLocaleString('es-AR', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            statsText.innerHTML = `
                ğŸ“Š <strong>${total}</strong> resultados disponibles<br>
                ğŸ• Ãšltima actualizaciÃ³n: ${ahora}
            `;
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FUNCIÃ“N: Renderizar sorteos
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function renderizarSorteos(sorteos) {
            if (!sorteos || sorteos.length === 0) {
                sorteosContainer.innerHTML = `
                    <div class="empty-state" role="status">
                        ğŸ” NO SE ENCONTRARON RESULTADOS<br>
                        <span style="font-size: 18px;">
                            Intente con otros filtros
                        </span>
                    </div>
                `;
                return;
            }

            // Ordenar por fecha descendente y luego por ID descendente
            const sorteosOrdenados = [...sorteos].sort((a, b) => {
                const fechaA = new Date(a.fecha);
                const fechaB = new Date(b.fecha);
                if (fechaB - fechaA !== 0) return fechaB - fechaA;
                return b.id - a.id;
            });

            const html = sorteosOrdenados.map(sorteo => crearTarjetaSorteo(sorteo)).join('');
            sorteosContainer.innerHTML = html;
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FUNCIÃ“N: Crear tarjeta de sorteo
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function crearTarjetaSorteo(sorteo) {
            const fecha = new Date(sorteo.fecha).toLocaleDateString('es-AR', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });

            // Bloque de letras (solo para Ciudad)
            // Las letras vienen como array JSON desde la DB
            const letrasArray = Array.isArray(sorteo.letras) ? sorteo.letras : 
                               (typeof sorteo.letras === 'string' ? JSON.parse(sorteo.letras) : []);
            const letrasHTML = letrasArray && letrasArray.length > 0
                ? `
                    <div class="letras-container">
                        <div class="letras-label">ğŸ”¤ Letras Oficiales:</div>
                        <div class="letras-list" aria-label="Letras oficiales">${letrasArray.join(' ')}</div>
                    </div>
                `
                : '';

            // Lista de nÃºmeros (solo primeros 20)
            // Los nÃºmeros vienen como array JSON desde la DB
            const numerosArray = Array.isArray(sorteo.numeros) ? sorteo.numeros : 
                                 (typeof sorteo.numeros === 'string' ? JSON.parse(sorteo.numeros) : []);
            const numerosHTML = numerosArray && numerosArray.length > 0
                ? numerosArray.slice(0, 20).map((num, idx) => `
                    <div class="numero-item">
                        <span class="numero-posicion">${idx + 1}.</span>
                        <span class="numero-valor">${num}</span>
                    </div>
                `).join('')
                : '<div class="empty-state">No hay nÃºmeros disponibles</div>';

            return `
                <article class="sorteo-card" role="article" aria-label="${sorteo.turno} - ${sorteo.jurisdiccion}">
                    <!-- Encabezado -->
                    <header class="sorteo-header">
                        <h2 class="sorteo-turno">${sorteo.turno}</h2>
                        <div class="sorteo-info">
                            ğŸ“ ${sorteo.jurisdiccion}<br>
                            ğŸ“… ${fecha}<br>
                            ğŸ² Sorteo #${sorteo.sorteo_id || sorteo.id_sorteo || 'N/A'}
                        </div>
                    </header>

                    <!-- CABEZA - MÃ¡xima jerarquÃ­a -->
                    <div class="cabeza-container">
                        <div class="cabeza-label">ğŸ† A LA CABEZA:</div>
                        <div class="cabeza-numero" aria-label="NÃºmero ganador a la cabeza: ${sorteo.cabeza}">
                            ${sorteo.cabeza || '----'}
                        </div>
                    </div>

                    <!-- LETRAS (si existen) -->
                    ${letrasHTML}

                    <!-- LISTA DE 20 NÃšMEROS -->
                    <div class="numeros-container">
                        <h3 class="numeros-title">ğŸ“‹ NÃºmeros Oficiales:</h3>
                        <div class="numeros-list">
                            ${numerosHTML}
                        </div>
                    </div>
                </article>
            `;
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FUNCIÃ“N: Aplicar filtros
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function aplicarFiltros() {
            const jurisdiccionSeleccionada = filtroJurisdiccion.value;
            const turnoSeleccionado = filtroTurno.value;

            let sorteosFiltrados = todosLosSorteos;

            if (jurisdiccionSeleccionada !== 'all') {
                sorteosFiltrados = sorteosFiltrados.filter(
                    s => s.jurisdiccion === jurisdiccionSeleccionada
                );
            }

            if (turnoSeleccionado !== 'all') {
                sorteosFiltrados = sorteosFiltrados.filter(
                    s => s.turno === turnoSeleccionado
                );
            }

            renderizarSorteos(sorteosFiltrados);
            
            // Anunciar cambio para lectores de pantalla
            const mensaje = `Mostrando ${sorteosFiltrados.length} resultados`;
            statsText.innerHTML = `
                ğŸ“Š ${mensaje}<br>
                ğŸ• ${new Date().toLocaleTimeString('es-AR')}
            `;
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FUNCIÃ“N: Limpiar filtros
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function limpiarFiltros() {
            filtroJurisdiccion.value = 'all';
            filtroTurno.value = 'all';
            renderizarSorteos(todosLosSorteos);
            actualizarEstadisticas(todosLosSorteos.length);
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // EVENT LISTENERS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        // Filtros
        filtroJurisdiccion.addEventListener('change', aplicarFiltros);
        filtroTurno.addEventListener('change', aplicarFiltros);

        // Botones
        btnActualizar.addEventListener('click', () => {
            limpiarFiltros();
            cargarDatos();
        });
        
        btnLimpiar.addEventListener('click', limpiarFiltros);

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // INICIALIZACIÃ“N
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        // Cargar datos al inicio
        cargarDatos();

        // Auto-refresh cada 2 minutos
        setInterval(cargarDatos, 120000);

        // Anunciar para accesibilidad
        console.log('âœ… Interfaz de accesibilidad AAA cargada correctamente');
    </script>
</body>
</html>
